version: '3.8'\n\nservices:\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./frontend:/app\n      - /app/node_modules\n    depends_on:\n      - backend\n    environment:\n      - REACT_APP_API_URL=http://localhost:8000/api\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - ./backend:/app\n      - /app/node_modules\n    depends_on:\n      - postgres\n      - redis\n    environment:\n      - NODE_ENV=development\n      - PORT=8000\n      - DATABASE_URL=postgresql://postgres:postgres@postgres:5432/rehearsal_scheduler?schema=public\n      - REDIS_URL=redis://redis:6379\n      - JWT_SECRET=development_secret_key\n      - JWT_EXPIRES_IN=7d\n\n  postgres:\n    image: postgres:13\n    ports:\n      - \"5432:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n      - POSTGRES_DB=rehearsal_scheduler\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:6\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data: